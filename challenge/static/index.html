<!DOCTYPE html>
<html lang="pt-Br" ng-app="reports">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="./css/bootstrap.css">
    <title>Reports</title>
    <script src="./lib/angular/angular.js"></script>
    <script src="./lib/angular/angular-route.js"></script>
    <script src="./js/app.js"></script>
    <script src="./js/value/configValues.js"></script>
    <script src="./js/config/routeConfig.js"></script>
    <script src="./js/services/reportService.js"></script>
    <script src="./js/controllers/reportController.js"></script>
    <style>
        .table{
            width: 50em;
            text-align: center;
            border-radius: 5px;
        }
        .jumbotron{
            width: 800px;
            height: 100px;
			text-align: center;
			margin-top: 20px;
			margin-left: auto;
			margin-right: auto;
            padding-top: 20px;
        }
        .card{
            margin-left: 10px
        }
        .container{
            margin-left: auto;
            margin-right: auto;
        }
    </style>
</head>
<body ng-controller="reportController">
    <div class="jumbotron text-center">
        <h1>Reports page</h1>
    </div>
    <div class="container row">
        <table class="table table-hover table-dark  col">
            <thead>
                <tr>
                    <th >Report Id</th>
                    <th >Author</th>
                    <th >Surpervisor</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="report in reports" ng-click="open(report)"> 
                    <td>{{report.id}}</td>
                    <td>{{report.first_name + " " + report.last_name}}</td>
                    <td>
                        <p ng-repeat="supervisor in report.supervisor">
                            {{supervisor.first_name + " " + supervisor.last_name}}
                        </p>
                    </td>        
                </tr>
            </tbody>
        </table>
        <div class="col card">
            <h3>Report Info</h3>
            <p>Report Id: {{selected.id}}</p>
            <p>Report Author: {{selected.first_name + " " +selected.last_name}}</p>
            <p>Report Supervisor: <span ng-repeat="supervisor in selected.supervisor"> {{supervisor.first_name + " " +supervisor.last_name}}; </span></p>
            <div> 
                <h5>Responses</h5>
                <div ng-repeat="response in selected.responses" class="card">
                    <p> Messages: "{{response.message}}"; </p>
                    <p> Author: {{response.author_first_name + " " + response.author_last_name}} </p>
                </div>
            </div>
        </div>
    </div>
</body>
</html>